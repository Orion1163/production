{% extends 'admin/layout/sidebar.html' %}
{% load static %}

{% block title %}Dashboard | User Management{% endblock %}

{% block heading %}
<div class="page-heading">
  <h1>User Management</h1>
  <hr />
</div>
{% endblock %}

{% block content %}
<div class="procedure-dashboard">
  <div class="hero-cta standalone">
    <a class="btn btn-light" href="{% url 'create_new_user' %}">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
        <path d="M12 5v14m-7-7h14" />
      </svg>
      Add User
    </a>
  </div>

  <section class="data-surface" aria-label="User list table">
    <div class="table-wrapper elevated">
      <table class="procedure-table">
        <thead>
          <tr>
            <th scope="col">Employee ID</th>
            <th scope="col">Name</th>
            <th scope="col">Role</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <tbody>
          <!-- Example Row 1 -->
          <tr data-state="active">
            <td data-label="Employee ID">
              <span class="serial-badge">EMP001</span>
            </td>
            <td data-label="Name">
              <strong>John Doe</strong>
            </td>
            <td data-label="Role">Administrator</td>
            <td data-label="Action">
              <div class="action-cell">
                <button type="button" class="icon-btn view-btn" aria-label="View User">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7z" />
                    <circle cx="12" cy="12" r="3" />
                  </svg>
                </button>
                <button type="button" class="icon-btn edit-btn" aria-label="Edit User" style="margin-left: 8px;">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" />
                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" />
                  </svg>
                </button>
              </div>
            </td>
          </tr>
          <!-- Example Row 2 -->
          <tr data-state="active">
            <td data-label="Employee ID">
              <span class="serial-badge">EMP002</span>
            </td>
            <td data-label="Name">
              <strong>Jane Smith</strong>
            </td>
            <td data-label="Role">Editor</td>
            <td data-label="Action">
              <div class="action-cell">
                <button type="button" class="icon-btn view-btn" aria-label="View User">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7z" />
                    <circle cx="12" cy="12" r="3" />
                  </svg>
                </button>
                <button type="button" class="icon-btn edit-btn" aria-label="Edit User" style="margin-left: 8px;">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" />
                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" />
                  </svg>
                </button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>
</div>
{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/design.css' %}">
<style>
  /* Custom overrides for User Management Table to fix alignment */
  /* Force all headers and cells to be left aligned as per user request */
  .procedure-table th,
  .procedure-table td {
    text-align: left !important;
  }

  /* Adjust column widths if necessary */
  .procedure-table th:nth-child(1) {
    width: 120px !important;
    /* Employee ID */
  }

  .procedure-table th:nth-child(2) {
    width: auto !important;
    /* Name */
  }

  .procedure-table th:nth-child(4) {
    width: 100px !important;
    /* Action */
  }

  /* Ensure Action cell content (button) is aligned to the start */
  .procedure-table td .action-cell {
    justify-content: flex-start !important;
  }
</style>
{% endblock %}

{% block extra_scripts %}
<script src="{% static 'js/design.js' %}" defer></script>
{% endblock %}